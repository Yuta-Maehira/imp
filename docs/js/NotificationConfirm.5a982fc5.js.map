{"version":3,"sources":["webpack:///./src/views/NotificationConfirm.vue?1813","webpack:///src/views/NotificationConfirm.vue","webpack:///./src/views/NotificationConfirm.vue?7d0c","webpack:///./src/views/NotificationConfirm.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_m","_s","notificationDataObject","notificationTitle","destination","notificationDescription","on","notificationCreate","_e","staticRenderFns","components","Header","SideBar","data","uniqueNumber","computed","$store","state","methods","notificationDb","add","notificationId","String","title","description","status","createDate","Date","router","allFunction","component"],"mappings":"8HAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,UAAUA,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,WAAWA,EAAG,OAAO,CAACA,EAAG,UAAU,CAACE,YAAY,gCAAgC,CAACF,EAAG,KAAK,CAACJ,EAAIO,GAAG,aAAaH,EAAG,MAAM,CAACE,YAAY,wBAAwB,CAACF,EAAG,QAAQ,CAACE,YAAY,8BAA8B,CAACF,EAAG,QAAQ,CAACA,EAAG,KAAK,CAACJ,EAAIQ,GAAG,GAAGJ,EAAG,KAAK,CAACA,EAAG,MAAM,CAACJ,EAAIO,GAAGP,EAAIS,GAAGT,EAAIU,uBAAuBC,0BAA0BP,EAAG,KAAK,CAACJ,EAAIQ,GAAG,GAAGJ,EAAG,KAAK,CAACA,EAAG,MAAM,CAACJ,EAAIO,GAAGP,EAAIS,GAAGT,EAAIU,uBAAuBE,oBAAoBR,EAAG,KAAK,CAACJ,EAAIQ,GAAG,GAAGJ,EAAG,KAAK,CAACA,EAAG,MAAM,CAACJ,EAAIO,GAAGP,EAAIS,GAAGT,EAAIU,uBAAuBG,sCAAsCT,EAAG,MAAM,CAACE,YAAY,MAAMQ,GAAG,CAAC,MAAQd,EAAIe,qBAAqB,CAACf,EAAIO,GAAG,UAAUH,EAAG,MAAM,CAACE,YAAY,UAAU,CAAEN,EAAY,SAAEI,EAAG,IAAI,CAACJ,EAAIO,GAAG,iBAAiBP,EAAIgB,YAAY,IAAI,IACl3BC,EAAkB,CAAC,WAAa,IAAIjB,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,KAAK,CAACA,EAAG,MAAM,CAACJ,EAAIO,GAAG,aAAa,WAAa,IAAIP,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,KAAK,CAACA,EAAG,MAAM,CAACJ,EAAIO,GAAG,YAAY,WAAa,IAAIP,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,KAAK,CAACA,EAAG,MAAM,CAACJ,EAAIO,GAAG,c,kFCqDvX,GACEW,WAAY,CACVC,OAAJ,OACIC,QAAJ,QAEEC,KALF,WAMI,MAAJ,CACMC,aAAc,IAGlBC,SAAU,CACRb,uBADJ,WAEM,OAAOT,KAAKuB,OAAOC,QAGvBC,QAAS,CACPX,mBADJ,WACA,WACA,qBACA,gCAGA,yKACA,8CACA,kBACA,sCACA,8BAEA,kBACA,oBAPA,gGAYA,aACQY,EAAeC,IAAI,CACjBC,eAAgBC,OAAO,EAAjC,cACUC,MAAO,EAAjB,yCACUC,YAAa,EAAvB,+CACUpB,YAAa,EAAvB,mCACUqB,OAAQ,GACRC,WAAY,IAAIC,OAC1B,iBACUC,EAAV,8BACA,kBACU,EAAV,gBAKA,yKACA,IADA,uBAEA,IAFA,gGAKMC,OC5GuV,I,YCOzVC,EAAY,eACd,EACAvC,EACAkB,GACA,EACA,KACA,KACA,MAIa,aAAAqB,E","file":"js/NotificationConfirm.5a982fc5.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('Header'),_c('div',{staticClass:\"container\"},[_c('SideBar'),_c('main',[_c('section',{staticClass:\"notification-confirm-section\"},[_c('h2',[_vm._v(\"登録案件の確認\")]),_c('div',{staticClass:\"notification-confirm\"},[_c('table',{staticClass:\"notification-confirm-table\"},[_c('tbody',[_c('tr',[_vm._m(0),_c('td',[_c('div',[_vm._v(_vm._s(_vm.notificationDataObject.notificationTitle))])])]),_c('tr',[_vm._m(1),_c('td',[_c('div',[_vm._v(_vm._s(_vm.notificationDataObject.destination))])])]),_c('tr',[_vm._m(2),_c('td',[_c('div',[_vm._v(_vm._s(_vm.notificationDataObject.notificationDescription))])])])])])]),_c('div',{staticClass:\"btn\",on:{\"click\":_vm.notificationCreate}},[_vm._v(\"登録する\")]),_c('div',{staticClass:\"result\"},[(_vm.isResult)?_c('p',[_vm._v(\"※ 登録に失敗しました\")]):_vm._e()])])])],1)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('th',[_c('div',[_vm._v(\"タイトル\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('th',[_c('div',[_vm._v(\"送信先\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('th',[_c('div',[_vm._v(\"通知内容\")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <Header/>\n    <div class=\"container\">\n      <SideBar/>\n      <main>\n        <section class=\"notification-confirm-section\">\n          <h2>登録案件の確認</h2>\n          <div class=\"notification-confirm\">\n            <table class=\"notification-confirm-table\">\n              <tbody>\n                <tr>\n                  <th>\n                    <div>タイトル</div>\n                  </th>\n                  <td>\n                    <div>{{ notificationDataObject.notificationTitle }}</div>\n                  </td>\n                </tr>\n                <tr>\n                  <th>\n                    <div>送信先</div>\n                  </th>\n                  <td>\n                    <div>{{ notificationDataObject.destination }}</div>\n                  </td>\n                </tr>\n                <tr>\n                  <th>\n                    <div>通知内容</div>\n                  </th>\n                  <td>\n                    <div>{{ notificationDataObject.notificationDescription }}</div>\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n          <div class=\"btn\" @click=\"notificationCreate\">登録する</div>\n          <div class=\"result\">\n            <p v-if=\"isResult\">※ 登録に失敗しました</p>\n          </div>\n        </section>\n      </main>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Header from '../components/Header.vue';\nimport SideBar from '../components/SideBar.vue';\nimport router from '@/plugins/router'\nimport firebase from '@/plugins/firebase'\n\nexport default {\n  components: {\n    Header,\n    SideBar\n  },\n  data() {\n    return{\n      uniqueNumber: 1\n    }\n  },\n  computed: {\n    notificationDataObject() {\n      return this.$store.state;\n    }\n  },\n  methods: {\n    notificationCreate() {\n      const db = firebase.firestore()\n      const notificationDb = db.collection('notifications');\n\n      // キャンペーンにユニークなidをつける処理\n      const getUniqueNumber = async () => {\n        await notificationDb.orderBy(\"createDate\", \"desc\").limit(1).get()\n        .then(response => {\n          const lastNotificationNumber = response.docs[0].data().notificationId;\n          this.uniqueNumber = Number(lastNotificationNumber) + 1;\n        })\n        .catch(() => {\n          this.uniqueNumber = 1;\n        })\n      }\n\n      // firestoreに通知データを保存する処理\n      const addData = () => {\n        notificationDb.add({\n          notificationId: String(this.uniqueNumber),\n          title: this.notificationDataObject.notificationTitle,\n          description: this.notificationDataObject.notificationDescription,\n          destination: this.notificationDataObject.destination,\n          status: \"\",\n          createDate: new Date()\n        }).then(() => {\n          router.push('/notification')\n        }).catch(() => {\n          this.isResult = true;\n        })\n      }\n\n      // (1) 全ての関数を実行\n      const allFunction = async () => {\n        await getUniqueNumber()\n        await addData()\n      }\n\n      allFunction()\n    }\n  }\n}\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NotificationConfirm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NotificationConfirm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NotificationConfirm.vue?vue&type=template&id=45d8eac8&\"\nimport script from \"./NotificationConfirm.vue?vue&type=script&lang=js&\"\nexport * from \"./NotificationConfirm.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}