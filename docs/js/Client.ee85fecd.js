(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Client"],{"7b94":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Header"),n("div",{staticClass:"container"},[n("SideBar"),n("main",[n("section",{staticClass:"client-section"},[n("h2",[t._v("クライアント一覧")]),n("paginate",{staticClass:"paginate",attrs:{name:"paginate-log",list:t.logs,per:10,tag:"div"}},t._l(t.paginated("paginate-log"),(function(e,i){return n("article",{key:i,staticClass:"client-box"},[n("router-link",{staticClass:"client-link-box",attrs:{to:"/client/detail/"+e.accountId,tag:"div"}},[n("div",{staticClass:"img-box"},[e.imgurl?n("img",{attrs:{src:e.imgurl,alt:"クライアントの画像"}}):n("img",{attrs:{src:a("5ec8"),alt:"クライアントの画像"}})]),n("div",{staticClass:"client-info"},[n("div",{staticClass:"client-name-info"},[n("h3",{staticClass:"client-name"},[t._v(t._s(e.client?t.nameLimit(e.client):t.nameLimit("未設定")))]),n("p",{staticClass:"client-staff"},[n("span",{staticClass:"title"},[t._v("担当: ")]),t._v(t._s(e.staff?e.staff:"未設定"))])]),n("div",{staticClass:"category"},t._l(e.category,(function(e,a){return n("p",{key:a,staticClass:"client-category"},[t._v(t._s(e||"未設定"))])})),0),"admin"===t.roll?n("div",{staticClass:"inquiry"},[n("p",{staticClass:"email"},[t._v(t._s(e.email?e.email:"未設定"))]),n("p",{staticClass:"tell"},[t._v(t._s(e.tell?e.tell:"未設定"))])]):t._e()])])],1)})),0)],1),n("paginate-links",{attrs:{for:"paginate-log",limit:10,classes:{ul:"pagination",li:"pagination-list","li > a":"pagination-link"},"show-step-links":!0}})],1)],1)],1)},i=[],r=(a("4160"),a("159b"),a("96cf"),a("1da1")),s=a("0418"),c=a("7c08"),l=a("4ee7"),o={components:{Header:s["a"],SideBar:c["a"]},data:function(){return{roll:localStorage.roll,logs:[],paginate:["paginate-log"]}},created:function(){var t=this,e=l["a"].firestore().collection("account"),a=function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=[],t.next=3,e.where("roll","==","client").get();case 3:return n=t.sent,n.forEach((function(t){a.push(t.data())})),t.abrupt("return",a);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),n=function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var a,n,i,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=[],n=0;case 2:if(!(n<e.length)){t.next=16;break}if(""===e[n].imgpath){t.next=12;break}return i=e[n].imgpath,t.next=7,l["a"].storage().ref().child(i).getDownloadURL();case 7:r=t.sent,e[n].imgurl=r,a.push(e[n]),t.next=13;break;case 12:a.push(e[n]);case 13:n++,t.next=2;break;case 16:return t.abrupt("return",a);case 17:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),i=function(e){e.sort((function(t,e){return t.date>e.date?-1:t.date<e.date?1:0})),t.logs=e},s=function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a();case 2:return e=t.sent,t.next=5,n(e);case 5:return r=t.sent,t.next=8,i(r);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();s()},methods:{nameLimit:function(t){var e=8;return t.length>e?t.substr(0,e)+"...":t}}},u=o,p=a("2877"),g=Object(p["a"])(u,n,i,!1,null,null,null);e["default"]=g.exports}}]);
//# sourceMappingURL=Client.ee85fecd.js.map