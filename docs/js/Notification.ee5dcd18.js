(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Notification"],{"109a":function(t,n,e){"use strict";e.r(n);var i=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("Header"),e("div",{staticClass:"container"},[e("SideBar"),e("main",[e("section",{staticClass:"notification-section"},[e("h2",[t._v("通知一覧")]),"admin"===t.roll?e("router-link",{staticClass:"btn",attrs:{to:"/notification/create",tag:"div"}},[t._v("新規通知作成")]):t._e(),e("div",{staticClass:"notification"},[e("paginate",{staticClass:"paginate",attrs:{name:"paginate-log",list:t.logs,per:10,tag:"div"}},t._l(t.paginated("paginate-log"),(function(n,i){return e("article",{key:i,class:["notification-box",n.status]},[e("router-link",{staticClass:"notification-link-box",attrs:{to:"/notification/detail/"+n.notificationId,tag:"div"}},[e("div",{staticClass:"notification-info"},[e("div",[e("p",{staticClass:"notification-title"},[t._v(t._s(t.titleLimit(n.title)))])]),e("div",[e("p",{staticClass:"notification-description"},[t._v(t._s(t.descreptionLimit(n.description)))])]),e("div",{staticClass:"notification-destination"},[e("p",[t._v(t._s(n.destination?n.destination:"未設定"))])])])])],1)})),0)],1),e("paginate-links",{attrs:{for:"paginate-log",limit:3,classes:{ul:"pagination",li:"pagination-list","li > a":"pagination-link"},"show-step-links":!0}})],1)])],1)],1)},a=[],r=(e("4160"),e("159b"),e("96cf"),e("1da1")),o=e("0418"),s=e("7c08"),c=e("4ee7"),u={components:{Header:o["a"],SideBar:s["a"]},data:function(){return{roll:localStorage.roll,logs:[],paginate:["paginate-log"],notificationChecked:!0}},created:function(){var t=this;console.log("ok");var n=c["a"].auth().currentUser.uid,e=c["a"].firestore().collection("account"),i=c["a"].firestore().collection("notifications"),a=function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var i,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.where("userId","==",n).get();case 2:return i=t.sent,a=i.docs[0].data().createData,t.abrupt("return",a);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),o=function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var n,e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=[],t.next=3,i.get();case 3:return e=t.sent,e.forEach((function(t){n.push(t.data())})),t.abrupt("return",n);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),s=function(){var n=Object(r["a"])(regeneratorRuntime.mark((function n(e,i){var a,r,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:for(a=0;a<e.length;a++)r=e[a],o=r.createDate,("admin"===t.roll||"client"===t.roll&&"client"===r.destination&&i<o||"cast"===t.roll&&"cast"===r.destination&&i<o)&&t.logs.push(r);case 1:case"end":return n.stop()}}),n)})));return function(t,e){return n.apply(this,arguments)}}(),u=function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var n,e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a();case 2:return n=t.sent,t.next=5,o();case 5:return e=t.sent,t.next=8,s(e,n);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();u()},methods:{titleLimit:function(t){var n=18;return t.length>n?t.substr(0,n)+"...":t},descreptionLimit:function(t){var n=35;return t.length>n?t.substr(0,n)+"...":t}}},l=u,p=e("2877"),f=Object(p["a"])(l,i,a,!1,null,null,null);n["default"]=f.exports}}]);
//# sourceMappingURL=Notification.ee5dcd18.js.map