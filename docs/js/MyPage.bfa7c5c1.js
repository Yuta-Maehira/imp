(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["MyPage"],{"73e8":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Header"),n("div",{staticClass:"container"},[n("SideBar"),n("main",[n("section",{staticClass:"mypage-section"},[n("h2",[t._v("マイページ")]),n("section",{staticClass:"mypage-basic-data"},[n("div",{staticClass:"img-box"},[t.accountData.imgurl?n("img",{attrs:{src:t.accountData.imgurl,alt:"プロフィール画像"}}):n("img",{attrs:{src:a("5ec8"),alt:"プロフィール画像"}})]),n("section",{staticClass:"mypage-basic-data-section"},[n("h3",[t._v("基本データ")]),n("table",[n("tbody",[n("tr",[n("th",["cast"!==t.roll?n("div",[t._v("会社名")]):t._e(),"cast"===t.roll?n("div",[t._v("名前")]):t._e()]),n("td",["cast"!==t.roll?n("div",[t._v(t._s(t.accountData.client?t.accountData.client:"未設定"))]):t._e(),"cast"===t.roll?n("div",[t._v(t._s(t.accountData.name?t.accountData.name:"未設定"))]):t._e()])]),n("tr",[n("th",["cast"!==t.roll?n("div",[t._v("担当者名")]):t._e(),"cast"===t.roll?n("div",[t._v("年齢")]):t._e()]),n("td",["cast"!==t.roll?n("div",[t._v(t._s(t.accountData.staff?t.accountData.staff:"未設定"))]):t._e(),"cast"===t.roll?n("div",[t._v(t._s(t.accountData.age?t.accountData.age:"未設定"))]):t._e()])]),n("tr",[n("th",["cast"!==t.roll?n("div",[t._v("電話番号")]):t._e(),"cast"===t.roll?n("div",[t._v("性別")]):t._e()]),n("td",["cast"!==t.roll?n("div",[t._v(t._s(t.accountData.tell?t.accountData.tell:"未設定"))]):t._e(),"cast"===t.roll?n("div",[t._v(t._s(t.accountData.adult?t.accountData.adult:"未設定"))]):t._e()])]),n("tr",[n("th",["cast"!==t.roll?n("div",[t._v("アドレス")]):t._e(),"cast"===t.roll?n("div",[t._v("電話番号")]):t._e()]),n("td",["cast"!==t.roll?n("div",[t._v(t._s(t.accountData.email?t.accountData.email:"未設定"))]):t._e(),"cast"===t.roll?n("div",[t._v(t._s(t.accountData.tell?t.accountData.tell:"未設定"))]):t._e()])]),"cast"===t.roll?n("tr",[t._m(0),n("td",[n("div",[t._v(t._s(t.accountData.email?t.accountData.email:"未設定"))])])]):t._e(),n("tr",[t._m(1),n("td",[""!==t.accountData.adress1&&""!==t.accountData.adress2&&""!==t.accountData.apartment?n("div",[t._v(" "+t._s(t.accountData.adress1)+t._s(t.accountData.adress2)+t._s(t.accountData.apartment)+" ")]):t._e()])])])])])]),n("router-link",{staticClass:"btn",attrs:{to:"/mypage/edit/1",tag:"div"}},[t._v("編集する")]),"cast"===t.roll?n("section",[n("h3",[t._v("SNS情報")]),n("div",{staticClass:"tab"},[n("div",{class:{active:t.isInstagram},on:{click:function(e){return t.addActive("Instagram")}}},[t._v("Instagram")]),n("div",{class:{active:t.isTwitter},on:{click:function(e){return t.addActive("Twitter")}}},[t._v("Twitter")]),n("div",{class:{active:t.isYouTube},on:{click:function(e){return t.addActive("YouTube")}}},[t._v("YouTube")]),n("div",{class:{active:t.isTikTok},on:{click:function(e){return t.addActive("TikTok")}}},[t._v("TikTok")])]),n("div",{staticClass:"sns-info"},[n("router-view")],1)]):t._e(),n("TransactionData"),"admin"===t.roll?n("router-link",{staticClass:"btn",attrs:{to:"/claim/create",tag:"div"}},[t._v("請求書作成")]):t._e(),"client"===t.roll?n("section",[n("h3",[t._v("支払情報")]),n("ul",{staticClass:"payment-data"},[n("li",{staticClass:"title"},[t._v("支払額")]),n("li",{staticClass:"value"},[t._v(t._s(t.paymentNum))]),n("li",{staticClass:"caution"},[t._v("※受取額は取引完了月の翌々月振込")])]),n("router-link",{staticClass:"btn",attrs:{to:"/pay/detail",tag:"div"}},[t._v(" 支払詳細確認")])],1):t._e(),"cast"===t.roll?n("section",[n("h3",[t._v("振込情報")]),n("ul",{staticClass:"payment-data"},[n("li",{staticClass:"title"},[t._v("受取額")]),n("li",{staticClass:"value"},[t._v(t._s(t.paymentNum))])]),t._m(2),n("ul",{staticClass:"bank-data"},[n("li",[n("div",{staticClass:"title"},[t._v("銀行名")]),n("div",{staticClass:"value"},[t._v(t._s(t.accountData.bank?t.accountData.bank:"未設定"))])]),n("li",[n("div",{staticClass:"title"},[t._v("支店名")]),n("div",{staticClass:"value"},[t._v(t._s(t.accountData.branch?t.accountData.branch:"未設定"))])]),n("li",[n("div",{staticClass:"title"},[t._v("口座番号")]),n("div",{staticClass:"value"},[t._v(t._s(t.accountData.accountNum?t.accountData.accountNum:"未設定"))])])])]):t._e()],1)])],1)],1)},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",[a("div",[t._v("アドレス")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",[a("div",[t._v("所在地")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"caution"},[a("p",[t._v("※受取額は取引完了月の翌々月振込")])])}],c=(a("4160"),a("a9e3"),a("3ca3"),a("159b"),a("ddb0"),a("96cf"),a("1da1")),i=a("0418"),s=a("7c08"),u=a("2cc9"),o=a("4ee7"),l=a("c64b"),v={components:{Header:i["a"],SideBar:s["a"],TransactionData:l["a"]},data:function(){return{roll:localStorage.roll,year:0,accountData:{},paymentNum:0,isInstagram:!0,isTwitter:!1,isYouTube:!1,isTikTok:!1}},created:function(){var t=this,e=new Date;this.year=e.getFullYear();var a=o["a"].auth().currentUser.uid,n=o["a"].firestore().collection("account"),r=o["a"].firestore().collection("campaigns"),i=function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){var e,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,n.where("userId","==",a).get();case 2:return e=t.sent,r=e.docs[0].data(),t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),s=function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(a){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(""===a.imgpath){e.next=9;break}return n=a.imgpath,e.next=4,o["a"].storage().ref().child(n).getDownloadURL();case 4:r=e.sent,a.imgurl=r,t.accountData=a,e.next=10;break;case 9:t.accountData=a;case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=[],t.next=3,r.where("contact","==",!0).get();case 3:return a=t.sent,a.forEach((function(t){e.push({doc:t.id,data:t.data()})})),t.abrupt("return",e);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),l=function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(n){var c,i,s,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:c=new Date,i=c.getMonth()+1,s=regeneratorRuntime.mark((function e(c){var s,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(s=n[c].data,u=n[c].doc,"client"!==t.roll){e.next=8;break}if(n[0].data.uid!==a){e.next=6;break}return e.next=6,r.doc(u).collection("applys").get().then((function(e){e.forEach((function(e){var a=e.data();if(a.complete){var n=a.completeTime.toDate(),r=n.getMonth()+1;r===i&&(t.paymentNum+=Number(s.price))}}))}));case 6:e.next=11;break;case 8:if("cast"!==t.roll){e.next=11;break}return e.next=11,r.doc(u).collection("applys").doc(a).get().then((function(e){if(e.exists){var a=e.data(),n=a.completeTime.toDate(),r=n.getMonth()+1;a.status&&a.complete&&r===i&&(t.paymentNum+=Number(s.price))}}));case 11:case"end":return e.stop()}}),e)})),u=0;case 4:if(!(u<n.length)){e.next=9;break}return e.delegateYield(s(u),"t0",6);case 6:u++,e.next=4;break;case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,i();case 2:return e=t.sent,t.next=5,s(e);case 5:return t.next=7,u();case 7:return a=t.sent,t.next=10,l(a);case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();v()},methods:{addActive:function(t){"Instagram"===t?(this.isTwitter=!1,this.isYouTube=!1,this.isTikTok=!1,this.isInstagram=!0,u["a"].push("/mypage/1")):"Twitter"===t?(this.isInstagram=!1,this.isYouTube=!1,this.isTikTok=!1,this.isTwitter=!0,u["a"].push("/mypage/2")):"YouTube"===t?(this.isInstagram=!1,this.isTwitter=!1,this.isTikTok=!1,this.isYouTube=!0,u["a"].push("/mypage/3")):"TikTok"===t&&(this.isInstagram=!1,this.isTwitter=!1,this.isYouTube=!1,this.isTikTok=!0,u["a"].push("/mypage/4"))}}},m=v,p=a("2877"),d=Object(p["a"])(m,n,r,!1,null,null,null);e["default"]=d.exports},c64b:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",["admin"===t.roll||"client"===t.roll?a("div",[a("h3",[t._v("クライアントデータ")]),a("ul",{staticClass:"transaction-data"},[a("li",[a("div",{staticClass:"title"},[t._v("案件登録数")]),a("div",{staticClass:"value"},[t._v(t._s(t.campaignNum))])]),a("li",[a("div",{staticClass:"title"},[t._v("取引案件数")]),a("div",{staticClass:"value"},[t._v(t._s(t.clientTransactionNum))])]),a("li",[a("div",{staticClass:"title"},[t._v("案件取引完了数")]),a("div",{staticClass:"value"},[t._v(t._s(t.clientCompleteNum))])]),a("li",[a("div",{staticClass:"title"},[t._v("取引人数")]),a("div",{staticClass:"value"},[t._v(t._s(t.transactionCastNum))])])]),t._m(0)]):t._e(),"admin"===t.roll||"cast"===t.roll?a("div",[a("h3",[t._v("キャストデータ")]),a("ul",{staticClass:"transaction-data"},[a("li",[a("div",{staticClass:"title"},[t._v("案件応募数")]),a("div",{staticClass:"value"},[t._v(t._s(t.applyNum))])]),a("li",[a("div",{staticClass:"title"},[t._v("取引案件数")]),a("div",{staticClass:"value"},[t._v(t._s(t.castTransactionNum))])]),a("li",["admin"===t.roll?a("div",{staticClass:"title"},[t._v("取引完了人数")]):a("div",{staticClass:"title"},[t._v("取引完了数")]),a("div",{staticClass:"value"},[t._v(t._s(t.castCompleteNum))])])]),t._m(1)]):t._e()])},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"caution"},[a("p",[t._v("※案件登録数、案件取引完了数は今月のもの")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"caution"},[a("p",[t._v("※案件応募数、取引完了数は今月のもの")])])}],c=(a("4160"),a("a9e3"),a("159b"),a("96cf"),a("1da1")),i=a("4ee7"),s={data:function(){return{roll:localStorage.roll,campaignNum:0,clientTransactionNum:0,clientCompleteNum:0,transactionCastNum:0,applyNum:0,castTransactionNum:0,castCompleteNum:0,paymentNum:0}},created:function(){var t=this,e=i["a"].auth().currentUser.uid,a=new Date,n=a.getMonth()+1,r=i["a"].firestore().collection("campaigns"),s=function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=[],t.next=3,r.get();case 3:return a=t.sent,a.forEach((function(t){e.push(t.data())})),t.abrupt("return",e);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),u=function(a){for(var r=0;r<a.length;r++){var c=a[r].date.toDate(),i=c.getMonth()+1;i===n&&("admin"===t.roll||"client"===t.roll&&a[r].uid===e)&&(t.campaignNum+=1)}},o=function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=[],t.next=3,r.where("contact","==",!0).get();case 3:return a=t.sent,a.forEach((function(t){e.push({data:t.data(),doc:t.id})})),t.abrupt("return",e);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),l=function(a){for(var i=function(i){var s=a[i].data,u=a[i].doc;if("admin"===t.roll){var o=function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=[],t.next=3,r.doc(u).collection("applys").get();case 3:return a=t.sent,a.forEach((function(t){e.push(t.data())})),t.abrupt("return",e);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),l=function(e){var a=0;console.log("ok");for(var n=0;n<e.length;n++){var r=e[n];r.status?(s.complete||(a+=1,t.transactionCastNum+=1),r.complete&&(t.castCompleteNum+=1)):r.status||(console.log("ok"),t.applyNum+=1)}a>0&&(t.clientTransactionNum+=1,t.castTransactionNum+=1)},v=function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=[],t.next=3,r.where("complete","==",!0).get();case 3:return a=t.sent,a.forEach((function(t){e.push(t.data())})),t.abrupt("return",e);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),m=function(e){for(var a=0;a<e.length;a++){var r=e[a].data().completeDate.toDate(),c=r.getMonth()+1;c===n&&(t.clientCompleteNum+=1)}},p=function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,o();case 2:return e=t.sent,t.next=5,l(e);case 5:return t.next=7,v();case 7:return a=t.sent,t.next=10,m(a);case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();p()}else if("client"===t.roll){if(s.uid===e){var d=function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=[],t.next=3,r.doc(u).collection("applys").where("status","==",!0).get();case 3:return a=t.sent,a.forEach((function(t){e.push(t.data())})),t.abrupt("return",e);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),f=function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(a){var r,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:!s.complete&&a.length>0&&(t.clientTransactionNum+=1,a.forEach((function(e){e.complete||(t.transactionCastNum+=1)}))),s.complete&&(r=s.completeDate.toDate(),c=r.getMonth()+1,c===n&&(t.clientCompleteNum+=1));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,d();case 2:return e=t.sent,t.next=5,f(e);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();h()}}else if("cast"===t.roll){var _=function(){var a=Object(c["a"])(regeneratorRuntime.mark((function a(){var c,i,o,l,v,m;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,r.doc(u).collection("applys").doc(e).get();case 2:c=a.sent,c.exists&&(i=c.data(),o=i.applyDate.toDate(),l=o.getMonth()+1,i.status||i.complete?i.status&&!i.complete?t.castTransactionNum+=1:i.status&&i.complete&&(v=i.completeTime.toDate(),m=v.getMonth()+1,m===n&&(t.castCompleteNum+=1,t.paymentNum+=Number(s.price))):l===n&&(t.applyNum+=1));case 4:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();_()}},s=0;s<a.length;s++)i(s)},v=function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s();case 2:if(a=e.sent,"admin"!==t.roll&&"client"!==t.roll){e.next=6;break}return e.next=6,u(a);case 6:return e.next=8,o();case 8:return n=e.sent,e.next=11,l(n);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();v()}},u=s,o=a("2877"),l=Object(o["a"])(u,n,r,!1,null,null,null);e["a"]=l.exports}}]);
//# sourceMappingURL=MyPage.bfa7c5c1.js.map