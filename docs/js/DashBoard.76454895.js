(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["DashBoard"],{"09b5":function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",[n("Header"),n("div",{staticClass:"container"},[n("SideBar"),n("main",[n("h2",[t._v("新規案件登録")]),n("section",{staticClass:"campaign-input"},[n("form",{staticClass:"campaign-input-form",attrs:{name:"createcampaign"}},[n("div",{staticClass:"form-input"},[t._m(0),n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.campaignData.campaignTitle,expression:"campaignData.campaignTitle",modifiers:{trim:!0}}],attrs:{type:"text",id:"title",name:"title",placeholder:"例: 1日1万個売れた!新コスメのPR案件",required:""},domProps:{value:t.campaignData.campaignTitle},on:{input:function(a){a.target.composing||t.$set(t.campaignData,"campaignTitle",a.target.value.trim())},blur:function(a){return t.$forceUpdate()}}})]),n("div",{staticClass:"form-input"},[t._m(1),n("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:t.campaignData.campaignDescription,expression:"campaignData.campaignDescription",modifiers:{trim:!0}}],attrs:{name:"description",rows:"10",placeholder:"※ 案件の説明を記入してください",required:""},domProps:{value:t.campaignData.campaignDescription},on:{input:function(a){a.target.composing||t.$set(t.campaignData,"campaignDescription",a.target.value.trim())},blur:function(a){return t.$forceUpdate()}}})]),n("div",{staticClass:"sns"},[n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.campaignData.instagram,expression:"campaignData.instagram"}],attrs:{type:"checkbox",id:"instagram",name:"sns",value:"instagram"},domProps:{checked:Array.isArray(t.campaignData.instagram)?t._i(t.campaignData.instagram,"instagram")>-1:t.campaignData.instagram},on:{change:function(a){var e=t.campaignData.instagram,n=a.target,i=!!n.checked;if(Array.isArray(e)){var r="instagram",c=t._i(e,r);n.checked?c<0&&t.$set(t.campaignData,"instagram",e.concat([r])):c>-1&&t.$set(t.campaignData,"instagram",e.slice(0,c).concat(e.slice(c+1)))}else t.$set(t.campaignData,"instagram",i)}}}),t._m(2)]),n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.campaignData.twitter,expression:"campaignData.twitter"}],attrs:{type:"checkbox",id:"twitter",name:"sns",value:"twitter"},domProps:{checked:Array.isArray(t.campaignData.twitter)?t._i(t.campaignData.twitter,"twitter")>-1:t.campaignData.twitter},on:{change:function(a){var e=t.campaignData.twitter,n=a.target,i=!!n.checked;if(Array.isArray(e)){var r="twitter",c=t._i(e,r);n.checked?c<0&&t.$set(t.campaignData,"twitter",e.concat([r])):c>-1&&t.$set(t.campaignData,"twitter",e.slice(0,c).concat(e.slice(c+1)))}else t.$set(t.campaignData,"twitter",i)}}}),t._m(3)]),n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.campaignData.youtube,expression:"campaignData.youtube"}],attrs:{type:"checkbox",id:"youtube",name:"sns",value:"youtube"},domProps:{checked:Array.isArray(t.campaignData.youtube)?t._i(t.campaignData.youtube,"youtube")>-1:t.campaignData.youtube},on:{change:function(a){var e=t.campaignData.youtube,n=a.target,i=!!n.checked;if(Array.isArray(e)){var r="youtube",c=t._i(e,r);n.checked?c<0&&t.$set(t.campaignData,"youtube",e.concat([r])):c>-1&&t.$set(t.campaignData,"youtube",e.slice(0,c).concat(e.slice(c+1)))}else t.$set(t.campaignData,"youtube",i)}}}),t._m(4)]),n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.campaignData.tiktok,expression:"campaignData.tiktok"}],attrs:{type:"checkbox",id:"tiktok",name:"sns",value:"tiktok"},domProps:{checked:Array.isArray(t.campaignData.tiktok)?t._i(t.campaignData.tiktok,"tiktok")>-1:t.campaignData.tiktok},on:{change:function(a){var e=t.campaignData.tiktok,n=a.target,i=!!n.checked;if(Array.isArray(e)){var r="tiktok",c=t._i(e,r);n.checked?c<0&&t.$set(t.campaignData,"tiktok",e.concat([r])):c>-1&&t.$set(t.campaignData,"tiktok",e.slice(0,c).concat(e.slice(c+1)))}else t.$set(t.campaignData,"tiktok",i)}}}),t._m(5)])]),n("div",{staticClass:"form-input"},[t._m(6),n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.campaignData.price,expression:"campaignData.price",modifiers:{trim:!0}}],attrs:{type:"text",id:"price",name:"price",placeholder:"例: 10000",required:""},domProps:{value:t.campaignData.price},on:{input:function(a){a.target.composing||t.$set(t.campaignData,"price",a.target.value.trim())},blur:function(a){return t.$forceUpdate()}}})]),n("div",{staticClass:"form-input"},[t._m(7),n("input",{attrs:{type:"file",id:"image",name:"image",required:""},on:{change:t.attachImage}})]),n("div",{staticClass:"select-img"},t._l(t.uploadedImages,(function(t){return n("div",{key:t,staticClass:"check-img"},[n("img",t?{attrs:{src:t,alt:"キャンペーン確認画像"}}:{attrs:{src:e("5ec8"),alt:"画像なし"}})])})),0)]),n("div",{staticClass:"missed"},[n("p",[t._v(t._s(t.message))])]),n("div",{staticClass:"btn",on:{click:t.campaignConfirm}},[t._v("確認する")])])])],1)],1)},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("label",{attrs:{for:"title"}},[e("span",{staticClass:"required"},[t._v("必須")]),t._v("タイトル")])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("label",{attrs:{for:"description"}},[e("span",{staticClass:"required"},[t._v("必須")]),t._v("説明")])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("label",{attrs:{for:"instagram"}},[e("i",{staticClass:"fab fa-instagram active"})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("label",{attrs:{for:"twitter"}},[e("i",{staticClass:"fab fa-twitter"})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("label",{attrs:{for:"youtube"}},[e("i",{staticClass:"fab fa-youtube"})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("label",{attrs:{for:"tiktok"}},[e("i",{staticClass:"fab fa-tiktok"})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("label",{attrs:{for:"price"}},[e("span",{staticClass:"required"},[t._v("必須")]),t._v("報酬額"),e("small",[t._v("※数字のみ記入してください")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("label",{attrs:{for:"image"}},[e("span",{staticClass:"required"},[t._v("必須")]),t._v("キャンペーン画像")])}],r=e("0418"),c=e("7c08"),s={components:{Header:r["a"],SideBar:c["a"]},data:function(){return{campaignData:{campaignTitle:"",campaignDescription:"",instagram:!1,twitter:!1,youtube:!1,tiktok:!1,price:"",roll:"client",img:[]},uploadedImages:[],message:""}},methods:{attachImage:function(t){var a=this;this.campaignData.img.push(t);var e=new FileReader;e.onload=function(t){a.uploadedImages.push(t.target.result)},e.readAsDataURL(this.campaignData.img[0].target.files[0])},campaignConfirm:function(t){""===this.campaignData.campaignTitle?(t.stopPropagation(),this.message="※タイトルを入力してください"):""===this.campaignData.campaignDescription?(t.stopPropagation(),this.message="※説明を入力してください"):""===this.campaignData.price?(t.stopPropagation(),this.message="※報酬金額を入力してください"):this.$store.commit("campaignDataMove",this.campaignData)}}},o=s,u=e("2877"),l=Object(u["a"])(o,n,i,!1,null,null,null);a["default"]=l.exports},1758:function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",[n("Header"),n("div",{staticClass:"container"},[n("SideBar"),n("main",[n("section",{staticClass:"campaign-detail-section"},[n("h2",[t._v("キャンペーン詳細")]),"cast"===t.roll&&t.isApplied?n("div",{staticClass:"btn",on:{click:t.applyCampaign}},[t._v("応募する")]):t._e(),"cast"!==t.roll||t.isApplied?t._e():n("div",{staticClass:"btn already-apply"},[t._v("応募済")]),n("section",[n("carousel",{attrs:{"per-page":1,"navigation-enabled":!0,"navigation-prev-label":"〈","navigation-next-label":"〉"}},t._l(t.campaignData.imgurl,(function(t){return n("slide",{key:t},[n("img",t?{attrs:{src:t,alt:"キャンペーンの画像"}}:{attrs:{src:e("5ec8")}})])})),1)],1),n("section",[n("table",{staticClass:"campaign-detail-table"},[n("tbody",[n("tr",[t._m(0),n("td",[n("div",[t._v(t._s(t.campaignData.title))])])]),n("tr",[t._m(1),n("td",[n("div",[t.campaignData.instagram?n("span",[n("i",{staticClass:"fab fa-instagram"})]):t._e(),t.campaignData.twitter?n("span",[n("i",{staticClass:"fab fa-twitter"})]):t._e(),t.campaignData.youtube?n("span",[n("i",{staticClass:"fab fa-youtube"})]):t._e(),t.campaignData.tiktok?n("span",[n("i",{staticClass:"fab fa-tiktok"})]):t._e()])])]),n("tr",[t._m(2),n("td",[n("div",[t._v(t._s(t.campaignData.price)+"円")])])])])])]),n("section",[n("h3",{staticClass:"campaign-detail-h3"},[t._v("キャンペーン内容")]),n("p",{staticClass:"campaign-detail"},[t._v(t._s(t.campaignData.description))])]),"client"===t.roll?n("section",[n("h3",[t._v("応募者一覧")]),n("paginate",{staticClass:"paginate",attrs:{name:"paginate-log",list:t.logs,per:10}},[n("table",[n("thead",[n("tr",[n("th"),n("th",[t._v("ニックネーム")]),n("th",[t._v("詳細 / 依頼ボタン")])])]),n("tbody",t._l(t.paginated("paginate-log"),(function(a,e){return n("tr",{key:e,staticClass:"cast-row"},[n("td",[n("div",{staticClass:"cast-img"},[n("img",{attrs:{src:a.imgurl,alt:"キャストの画像"}})])]),n("td",[n("div",[t._v(t._s(a.nickName?a.nickName:"未設定"))])]),n("td",{staticClass:"detail-btn-box"},[n("router-link",{staticClass:"detail-btn",attrs:{to:"/cast/detail/"+a.accountId,tag:"div"}},[t._v("詳細")]),a.isAsigned?n("div",{staticClass:"detail-btn offer",on:{click:function(n){return t.clientOffer(a.userId,e)}}},[t._v("依頼")]):n("div",{staticClass:"detail-btn already-offer"},[t._v("依頼済")])],1)])})),0)])]),n("paginate-links",{attrs:{for:"paginate-log",limit:9,classes:{ul:"pagination",li:"pagination-list","li > a":"pagination-link"},"show-step-links":!0}})],1):t._e(),"cast"===t.roll&&t.isApplied?n("div",{staticClass:"btn",on:{click:t.applyCampaign}},[t._v("応募する")]):t._e(),"cast"!==t.roll||t.isApplied?t._e():n("div",{staticClass:"btn already-apply"},[t._v("応募済")])])])],1)],1)},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("th",[e("div",[t._v("タイトル")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("th",[e("div",[t._v("希望SNS")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("th",[e("div",[t._v("報酬金額")])])}],r=(e("96cf"),e("1da1")),c=e("0418"),s=e("7c08"),o=e("4ee7"),u={components:{Header:c["a"],SideBar:s["a"]},data:function(){return{roll:localStorage.roll,campaignId:0,campaignData:[],isApplied:!0,logs:[],paginate:["paginate-log"]}},created:function(){var t=this;this.campaignId=this.$route.params["id"];var a=o["a"].firestore().collection("campaigns"),e=o["a"].firestore().collection("account"),n={},i="",c=function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a.where("campaignid","==",t.campaignId).get();case 2:r=e.sent,n=r.docs[0].data(),i=r.docs[0].id,l(n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s=function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=o["a"].auth().currentUser.uid,e.next=3,a.doc(i).collection("applys").doc(n).get();case 3:r=e.sent,r.exists&&(t.isApplied=!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var n,r,c,s,o,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a.doc(i).collection("applys").get();case 2:n=t.sent,r=0;case 4:if(!(r<n.size)){t.next=17;break}return c=n.docs[r].data(),s=!1,c.status||(s=!0),t.next=10,e.where("userId","==",c.uid).get();case 10:o=t.sent,u=o.docs[0].data(),u.isAsigned=s,l(u);case 14:r++,t.next=4;break;case 17:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),l=function(){var a=Object(r["a"])(regeneratorRuntime.mark((function a(e){var n,i,r,c,s,u,l;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!Array.isArray(e.imgpath)){a.next=21;break}if(0===e.imgpath.length){a.next=18;break}n=e.imgpath,i=[],r=0;case 5:if(!(r<n.length)){a.next=14;break}return c=n[r],a.next=9,o["a"].storage().ref().child(c).getDownloadURL();case 9:s=a.sent,i.push(s);case 11:r++,a.next=5;break;case 14:e.imgurl=i,t.campaignData=e,a.next=19;break;case 18:t.campaignData=e;case 19:a.next=31;break;case 21:if(""===e.imgpath){a.next=30;break}return u=e.imgpath,a.next=25,o["a"].storage().ref().child(u).getDownloadURL();case 25:l=a.sent,e.imgurl=l,t.logs.push(e),a.next=31;break;case 30:t.logs.push(e);case 31:case"end":return a.stop()}}),a)})));return function(t){return a.apply(this,arguments)}}(),m=function(){var a=Object(r["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,c();case 2:if(!n.contact||"cast"!==t.roll){a.next=5;break}return a.next=5,s();case 5:if("client"!==t.roll){a.next=8;break}return a.next=8,u();case 8:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();m()},methods:{applyCampaign:function(){var t=this,a=o["a"].auth().currentUser.uid,e=o["a"].firestore().collection("campaigns");confirm("本当に応募しますか？")&&e.where("campaignid","==",this.campaignId).get().then((function(n){var i=n.docs[0].data(),r=n.docs[0].id;e.doc(r).update({contact:!0,complete:!1}),e.doc(r).collection("applys").doc(a).set({campaignId:t.campaignId,uid:a,status:!1,complete:!1,applyDate:new Date,price:i.price}).then((function(){t.isApplied=!1}))}))},clientOffer:function(t,a){var e=this,n=o["a"].firestore().collection("campaigns");confirm("依頼してもいいですか？")&&n.where("campaignid","==",this.campaignId).get().then((function(i){var r=i.docs[0].id;n.doc(r).collection("applys").doc(t).update({status:!0}).then((function(){e.logs[a].isAsigned=!1}))}))}}},l=u,m=e("2877"),p=Object(m["a"])(l,n,i,!1,null,null,null);a["default"]=p.exports},"7e48":function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("Header"),e("div",{staticClass:"container"},[e("SideBar"),e("main",[e("section",{staticClass:"dashboard-section"},[e("h2",[t._v("ダッシュボード")]),e("TransactionData"),"client"!==t.roll?e("div",[e("CampaignLimit"),e("router-link",{staticClass:"btn",attrs:{to:"/campaign",tag:"div"}},[t._v("全件表示")])],1):t._e(),"cast"!==t.roll?e("div",[e("CastLimit"),e("router-link",{staticClass:"btn",attrs:{to:"/cast",tag:"div"}},[t._v("全件表示")])],1):t._e()],1)])],1)],1)},i=[],r=e("0418"),c=e("7c08"),s=e("c64b"),o=function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",[n("h3",[t._v("新着案件(新規5件)")]),n("div",{staticClass:"campaign-limit"},t._l(t.campaigns,(function(a){return n("div",{key:a.campaignId,staticClass:"campaign-box"},[n("router-link",{staticClass:"campaign-link-box",attrs:{to:"/"+t.roll+"/campaign/detail/"+a.campaignid,tag:"div"}},[n("div",{staticClass:"img-box"},[a.imgurl?n("img",{attrs:{src:a.imgurl,alt:"キャンペーンの画像"}}):n("img",{attrs:{src:e("5ec8"),alt:"キャンペーンの画像"}})]),n("div",{staticClass:"campaign-info"},[n("p",{staticClass:"campaign-title"},[t._v(t._s(t.titleLimit(a.title)))]),n("p",{staticClass:"campaign-description"},[t._v(t._s(t.descreptionLimit(a.description)))]),n("div",{staticClass:"campaign-under-box"},[n("div",{staticClass:"sns-icon"},[n("span",{class:{active:a.instagram}},[n("i",{staticClass:"fab fa-instagram"})]),n("span",{class:{active:a.twitter}},[n("i",{staticClass:"fab fa-twitter active"})]),n("span",{class:{active:a.youtube}},[n("i",{staticClass:"fab fa-youtube"})]),n("span",{class:{active:a.tiktok}},[n("i",{staticClass:"fab fa-tiktok"})])]),n("p",{staticClass:"campaign-price"},[t._v(t._s(a.price)),n("span",[t._v("円")])])])])])],1)})),0)])},u=[],l=(e("4160"),e("159b"),e("53ca")),m=(e("96cf"),e("1da1")),p=e("4ee7"),g={data:function(){return{roll:"",campaigns:[]}},created:function(){var t=this;this.roll=this.$store.state.roll;var a=p["a"].firestore().collection("campaigns"),e=function(){var t=Object(m["a"])(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=[],t.next=3,a.orderBy("date","desc").limit(5).get();case 3:return n=t.sent,n.forEach((function(t){e.push(t.data())})),t.abrupt("return",e);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),n=function(){var a=Object(m["a"])(regeneratorRuntime.mark((function a(e){var n,i,r,c,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:n=p["a"].auth().currentUser.uid,i=[],r=0;case 3:if(!(r<e.length)){a.next=26;break}if(""===e[r].imgpath){a.next=21;break}if(c=e[r].imgpath,s="","object"!==Object(l["a"])(c)){a.next=13;break}return a.next=10,p["a"].storage().ref().child(c[0]).getDownloadURL();case 10:s=a.sent,a.next=16;break;case 13:return a.next=15,p["a"].storage().ref().child(c).getDownloadURL();case 15:s=a.sent;case 16:e[r].imgurl=s,e[r].uid===n&&i.push(e[r]),"client"!==t.roll&&i.push(e[r]),a.next=23;break;case 21:e[r].uid===n&&i.push(e[r]),"client"!==t.roll&&i.push(e[r]);case 23:r++,a.next=3;break;case 26:return a.abrupt("return",i);case 27:case"end":return a.stop()}}),a)})));return function(t){return a.apply(this,arguments)}}(),i=function(a){a.sort((function(t,a){return t.date>a.date?-1:t.date<a.date?1:0})),t.campaigns=a},r=function(){var t=Object(m["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e();case 2:return a=t.sent,t.next=5,n(a);case 5:return r=t.sent,t.next=8,i(r);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();r()},methods:{titleLimit:function(t){var a=window.screen.width,e=18;return a>=1025&&a<=1299?e=10:a>=1300&&(e=13),t.length>e?t.substr(0,e)+"...":t},descreptionLimit:function(t){var a=window.screen.width,e=20;return a>=400?e=30:a>=600?e=25:a>=1025&&a<=1299?e=12:a>=1300&&(e=18),t.length>e?t.substr(0,e)+"...":t}}},d=g,f=e("2877"),v=Object(f["a"])(d,o,u,!1,null,null,null),h=v.exports,b=function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",[n("h3",[t._v("新規キャスト(新規5名)")]),n("div",{staticClass:"cast-limit"},t._l(t.casts,(function(a){return n("div",{key:a.accountId,staticClass:"cast-box"},[n("router-link",{staticClass:"cast-link-box",attrs:{to:"/"+t.roll+"/cast/detail/"+a.accountId,tag:"div"}},[n("div",{staticClass:"img-box"},[a.imgurl?n("img",{attrs:{src:a.imgurl,alt:"キャストの画像"}}):n("img",{attrs:{src:e("5ec8"),alt:"キャストの画像"}})]),n("div",{staticClass:"cast-info"},[n("div",[n("p",{staticClass:"cast-name"},[t._v(t._s(a.name?t.nameLimit(a.name):t.nameLimit("未設定")))])]),n("div",{staticClass:"sns-icon"},[n("span",{class:{active:t.isInstagramActive}},[n("i",{staticClass:"fab fa-instagram"})]),n("span",{class:{active:t.isTwitterActive}},[n("i",{staticClass:"fab fa-twitter active"})]),n("span",{class:{active:t.isYouTubeActive}},[n("i",{staticClass:"fab fa-youtube"})]),n("span",{class:{active:t.isTikTokActive}},[n("i",{staticClass:"fab fa-tiktok"})])]),"admin"===t.roll?n("div",{staticClass:"inquiry"},[n("p",{staticClass:"email"},[t._v(t._s(a.email?a.email:"未設定"))]),n("p",{staticClass:"tell"},[t._v(t._s(a.tell?a.tell:"未設定"))])]):t._e()])])],1)})),0)])},_=[],k=(e("fb6a"),{data:function(){return{roll:"",casts:[],isInstagramActive:!1,isTwitterActive:!1,isYouTubeActive:!1,isTikTokActive:!1}},created:function(){var t=this;this.roll=this.$store.state.roll;var a=p["a"].firestore().collection("account"),e=function(){var t=Object(m["a"])(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=[],t.next=3,a.where("roll","==","cast").get();case 3:return n=t.sent,n.forEach((function(t){e.push(t.data())})),t.abrupt("return",e);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),n=function(){var t=Object(m["a"])(regeneratorRuntime.mark((function t(a){var e,n,i,c,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e=[],n=a.slice(0,5),i=0;case 3:if(!(i<n.length)){t.next=18;break}if(r(n[i]),""===n[i].imgpath){t.next=14;break}return c=n[i].imgpath,t.next=9,p["a"].storage().ref().child(c).getDownloadURL();case 9:s=t.sent,n[i].imgurl=s,e.push(n[i]),t.next=15;break;case 14:e.push(n[i]);case 15:i++,t.next=3;break;case 18:return t.abrupt("return",e);case 19:case"end":return t.stop()}}),t)})));return function(a){return t.apply(this,arguments)}}(),i=function(t){return t.sort((function(t,a){return t.accountId>a.accountId?-1:t.accountId<a.accountId?1:0})),t},r=function(a){""===a.myInstagram.accountId&&""===a.myInstagram.accountName&&""===a.myInstagram.accountType&&""===a.myInstagram.followerCount&&""===a.myInstagram.goodAverage&&""===a.myInstagram.engagement||(t.isInstagramActive=!0),""===a.myTwitter.accountId&&""===a.myTwitter.accountName&&""===a.myTwitter.accountType&&""===a.myTwitter.followerCount&&""===a.myTwitter.goodAverage&&""===a.myTwitter.engagement||(t.isTwitterActive=!0),""===a.myYouTube.accountId&&""===a.myYouTube.accountName&&""===a.myYouTube.accountType&&""===a.myYouTube.followerCount&&""===a.myYouTube.goodAverage&&""===a.myYouTube.engagement||(t.isYouTubeActive=!0),""===a.myTikTok.accountId&&""===a.myTikTok.accountName&&""===a.myTikTok.accountType&&""===a.myTikTok.followerCount&&""===a.myTikTok.goodAverage&&""===a.myTikTok.engagement||(t.isTikTokActive=!0)},c=function(){var a=Object(m["a"])(regeneratorRuntime.mark((function a(){var r,c,s,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e();case 2:return r=a.sent,a.next=5,i(r);case 5:return c=a.sent,a.next=8,n(c);case 8:return s=a.sent,a.next=11,i(s);case 11:o=a.sent,t.casts=o;case 13:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();c()},methods:{nameLimit:function(t){var a=8;return t.length>a?t.substr(0,a)+"...":t}}}),w=k,y=Object(f["a"])(w,b,_,!1,null,null,null),C=y.exports,D={components:{Header:r["a"],SideBar:c["a"],TransactionData:s["a"],CampaignLimit:h,CastLimit:C}},x=D,T=Object(f["a"])(x,n,i,!1,null,null,null);a["default"]=T.exports},8418:function(t,a,e){"use strict";var n=e("c04e"),i=e("9bf2"),r=e("5c6c");t.exports=function(t,a,e){var c=n(a);c in t?i.f(t,c,r(0,e)):t[c]=e}},b0c0:function(t,a,e){var n=e("83ab"),i=e("9bf2").f,r=Function.prototype,c=r.toString,s=/^\s*function ([^ (]*)/,o="name";n&&!(o in r)&&i(r,o,{configurable:!0,get:function(){try{return c.call(this).match(s)[1]}catch(t){return""}}})},c64b:function(t,a,e){"use strict";var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",["admin"===t.roll||"client"===t.roll?e("div",[e("h3",[t._v("クライアントデータ")]),e("ul",{staticClass:"transaction-data"},[e("li",[e("div",{staticClass:"title"},[t._v("案件登録数")]),e("div",{staticClass:"value"},[t._v(t._s(t.campaignNum))])]),e("li",[e("div",{staticClass:"title"},[t._v("取引案件数")]),e("div",{staticClass:"value"},[t._v(t._s(t.clientTransactionNum))])]),e("li",[e("div",{staticClass:"title"},[t._v("案件取引完了数")]),e("div",{staticClass:"value"},[t._v(t._s(t.clientCompleteNum))])]),e("li",[e("div",{staticClass:"title"},[t._v("取引人数")]),e("div",{staticClass:"value"},[t._v(t._s(t.transactionCastNum))])])]),t._m(0)]):t._e(),"admin"===t.roll||"cast"===t.roll?e("div",[e("h3",[t._v("キャストデータ")]),e("ul",{staticClass:"transaction-data"},[e("li",[e("div",{staticClass:"title"},[t._v("案件応募数")]),e("div",{staticClass:"value"},[t._v(t._s(t.applyNum))])]),e("li",[e("div",{staticClass:"title"},[t._v("取引案件数")]),e("div",{staticClass:"value"},[t._v(t._s(t.castTransactionNum))])]),e("li",["admin"===t.roll?e("div",{staticClass:"title"},[t._v("取引完了人数")]):e("div",{staticClass:"title"},[t._v("取引完了数")]),e("div",{staticClass:"value"},[t._v(t._s(t.castCompleteNum))])])]),t._m(1)]):t._e()])},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"caution"},[e("p",[t._v("※案件登録数、案件取引完了数は今月のもの")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"caution"},[e("p",[t._v("※案件応募数、取引完了数は今月のもの")])])}],r=(e("4160"),e("a9e3"),e("159b"),e("96cf"),e("1da1")),c=e("4ee7"),s={data:function(){return{roll:localStorage.roll,campaignNum:0,clientTransactionNum:0,clientCompleteNum:0,transactionCastNum:0,applyNum:0,castTransactionNum:0,castCompleteNum:0,paymentNum:0}},created:function(){var t=this,a=c["a"].auth().currentUser.uid,e=new Date,n=e.getMonth()+1,i=c["a"].firestore().collection("campaigns"),s=function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var a,e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=[],t.next=3,i.get();case 3:return e=t.sent,e.forEach((function(t){a.push(t.data())})),t.abrupt("return",a);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),o=function(e){for(var i=0;i<e.length;i++){var r=e[i].date.toDate(),c=r.getMonth()+1;c===n&&("admin"===t.roll||"client"===t.roll&&e[i].uid===a)&&(t.campaignNum+=1)}},u=function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var a,e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=[],t.next=3,i.where("contact","==",!0).get();case 3:return e=t.sent,e.forEach((function(t){a.push({data:t.data(),doc:t.id})})),t.abrupt("return",a);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),l=function(e){for(var c=function(c){var s=e[c].data,o=e[c].doc;if("admin"===t.roll){var u=function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var a,e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=[],t.next=3,i.doc(o).collection("applys").get();case 3:return e=t.sent,e.forEach((function(t){a.push(t.data())})),t.abrupt("return",a);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),l=function(a){var e=0;console.log("ok");for(var n=0;n<a.length;n++){var i=a[n];i.status?(s.complete||(e+=1,t.transactionCastNum+=1),i.complete&&(t.castCompleteNum+=1)):i.status||(console.log("ok"),t.applyNum+=1)}e>0&&(t.clientTransactionNum+=1,t.castTransactionNum+=1)},m=function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var a,e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=[],t.next=3,i.where("complete","==",!0).get();case 3:return e=t.sent,e.forEach((function(t){a.push(t.data())})),t.abrupt("return",a);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),p=function(a){for(var e=0;e<a.length;e++){var i=a[e].data().completeDate.toDate(),r=i.getMonth()+1;r===n&&(t.clientCompleteNum+=1)}},g=function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var a,e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,u();case 2:return a=t.sent,t.next=5,l(a);case 5:return t.next=7,m();case 7:return e=t.sent,t.next=10,p(e);case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();g()}else if("client"===t.roll){if(s.uid===a){var d=function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var a,e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=[],t.next=3,i.doc(o).collection("applys").where("status","==",!0).get();case 3:return e=t.sent,e.forEach((function(t){a.push(t.data())})),t.abrupt("return",a);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),f=function(){var a=Object(r["a"])(regeneratorRuntime.mark((function a(e){var i,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:!s.complete&&e.length>0&&(t.clientTransactionNum+=1,e.forEach((function(a){a.complete||(t.transactionCastNum+=1)}))),s.complete&&(i=s.completeDate.toDate(),r=i.getMonth()+1,r===n&&(t.clientCompleteNum+=1));case 2:case"end":return a.stop()}}),a)})));return function(t){return a.apply(this,arguments)}}(),v=function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,d();case 2:return a=t.sent,t.next=5,f(a);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();v()}}else if("cast"===t.roll){var h=function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var r,c,u,l,m,p;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i.doc(o).collection("applys").doc(a).get();case 2:r=e.sent,r.exists&&(c=r.data(),u=c.applyDate.toDate(),l=u.getMonth()+1,c.status||c.complete?c.status&&!c.complete?t.castTransactionNum+=1:c.status&&c.complete&&(m=c.completeTime.toDate(),p=m.getMonth()+1,p===n&&(t.castCompleteNum+=1,t.paymentNum+=Number(s.price))):l===n&&(t.applyNum+=1));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();h()}},s=0;s<e.length;s++)c(s)},m=function(){var a=Object(r["a"])(regeneratorRuntime.mark((function a(){var e,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,s();case 2:if(e=a.sent,"admin"!==t.roll&&"client"!==t.roll){a.next=6;break}return a.next=6,o(e);case 6:return a.next=8,u();case 8:return n=a.sent,a.next=11,l(n);case 11:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();m()}},o=s,u=e("2877"),l=Object(u["a"])(o,n,i,!1,null,null,null);a["a"]=l.exports},cf7b:function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",[n("Header"),n("div",{staticClass:"container"},[n("SideBar"),n("main",[n("section",{staticClass:"campaign-confirm-section"},[n("h2",[t._v("登録案件の確認")]),n("section",[n("carousel",{attrs:{"per-page":1,"navigation-enabled":!0,"navigation-prev-label":"〈","navigation-next-label":"〉"}},t._l(t.uploadedImages,(function(t){return n("slide",{key:t},[n("img",t?{attrs:{src:t,alt:"キャンペーンの画像"}}:{attrs:{src:e("5ec8")}})])})),1)],1),n("section",[n("table",{staticClass:"campaign-confirm-table"},[n("tbody",[n("tr",[t._m(0),n("td",[n("div",[t._v(t._s(t.campaignDataObject.campaignTitle))])])]),n("tr",[t._m(1),n("td",[n("div",[t.campaignDataObject.instagram?n("span",[n("i",{staticClass:"fab fa-instagram"})]):t._e(),t.campaignDataObject.twitter?n("span",[n("i",{staticClass:"fab fa-twitter"})]):t._e(),t.campaignDataObject.youtube?n("span",[n("i",{staticClass:"fab fa-youtube"})]):t._e(),t.campaignDataObject.tiktok?n("span",[n("i",{staticClass:"fab fa-tiktok"})]):t._e()])])]),n("tr",[t._m(2),n("td",[n("div",[t._v(t._s(t.campaignDataObject.price)+"円")])])])])])]),n("section",[n("h3",{staticClass:"campaign-confirm-h3"},[t._v("キャンペーン内容")]),n("p",{staticClass:"campaign-confirm-description"},[t._v(t._s(t.campaignDataObject.campaignDescription))])]),n("div",{staticClass:"btn",on:{click:t.campaignCreate}},[t._v("登録する")])])])],1)],1)},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("th",[e("div",[t._v("タイトル")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("th",[e("div",[t._v("希望SNS")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("th",[e("div",[t._v("報酬金額")])])}],r=(e("4160"),e("b0c0"),e("a9e3"),e("159b"),e("96cf"),e("1da1")),c=e("0418"),s=e("7c08"),o=e("4ee7"),u=e("2cc9"),l={components:{Header:c["a"],SideBar:s["a"]},data:function(){return{imgPath:[],uploadedImages:[],uniqueNumber:1}},computed:{campaignDataObject:function(){return this.$store.state}},created:function(){var t=this,a=this.campaignDataObject.campaignImg;a.forEach((function(a){var e=new FileReader;e.onload=function(a){t.uploadedImages.push(a.target.result)},e.readAsDataURL(a.target.files[0])}))},methods:{campaignCreate:function(){var t=this;if(0!==this.campaignDataObject.campaignImg.length){var a=o["a"].auth().currentUser.uid,e=this.campaignDataObject.campaignImg;e.forEach((function(e){var n=e.target.files[0],i="campaignimages/"+a+"/"+n.name,r=o["a"].storage().ref().child(i);t.imgPath.push(i),r.put(n)}))}var n=o["a"].firestore().collection("campaigns"),i=function(){var a=Object(r["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,n.orderBy("date","desc").limit(1).get().then((function(a){var e=a.docs[0].data().campaignid;t.campaignDataObject.campaignid=Number(e)+1})).catch((function(){t.campaignDataObject.campaignid=1}));case 2:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),c=function(){n.add({campaignid:String(t.campaignDataObject.campaignid),title:t.campaignDataObject.campaignTitle,description:t.campaignDataObject.campaignDescription,instagram:t.campaignDataObject.instagram,twitter:t.campaignDataObject.twitter,youtube:t.campaignDataObject.youtube,tiktok:t.campaignDataObject.tiktok,price:t.campaignDataObject.price,roll:t.campaignDataObject.roll,uid:t.campaignDataObject.uid,imgpath:t.imgPath,date:new Date,contact:!1,complete:!1,completeDate:new Date,payment:0}).then((function(){u["a"].push("/campaign")}))},s=function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,i();case 2:return t.next=4,c();case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();s()}}},m=l,p=e("2877"),g=Object(p["a"])(m,n,i,!1,null,null,null);a["default"]=g.exports},fb6a:function(t,a,e){"use strict";var n=e("23e7"),i=e("861d"),r=e("e8b5"),c=e("23cb"),s=e("50c4"),o=e("fc6a"),u=e("8418"),l=e("b622"),m=e("1dde"),p=e("ae40"),g=m("slice"),d=p("slice",{ACCESSORS:!0,0:0,1:2}),f=l("species"),v=[].slice,h=Math.max;n({target:"Array",proto:!0,forced:!g||!d},{slice:function(t,a){var e,n,l,m=o(this),p=s(m.length),g=c(t,p),d=c(void 0===a?p:a,p);if(r(m)&&(e=m.constructor,"function"!=typeof e||e!==Array&&!r(e.prototype)?i(e)&&(e=e[f],null===e&&(e=void 0)):e=void 0,e===Array||void 0===e))return v.call(m,g,d);for(n=new(void 0===e?Array:e)(h(d-g,0)),l=0;g<d;g++,l++)g in m&&u(n,l,m[g]);return n.length=l,n}})}}]);
//# sourceMappingURL=DashBoard.76454895.js.map